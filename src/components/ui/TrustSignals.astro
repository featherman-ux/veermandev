---
interface TrustSignal {
  icon: string;
  title: string;
  description: string;
  highlight?: string;
}

interface Props {
  signals?: TrustSignal[];
  layout?: 'grid' | 'inline' | 'badges';
  title?: string;
  background?: 'default' | 'card';
  size?: 'small' | 'normal' | 'large';
}

const { 
  signals = [],
  layout = 'grid',
  title,
  background = 'default',
  size = 'normal'
} = Astro.props;

// Default trust signals if none provided
const defaultSignals: TrustSignal[] = [
  {
    icon: 'âš¡',
    title: '24-Hour Response',
    description: 'We respond to every inquiry within one business day',
    highlight: '24h'
  },
  {
    icon: 'ðŸŽ¯',
    title: 'Proven Results',
    description: '340% average increase in qualified leads',
    highlight: '340%'
  },
  {
    icon: 'ðŸš€',
    title: 'Lightning Fast',
    description: 'Sub-1-second load times guaranteed',
    highlight: '<1s'
  },
  {
    icon: 'ðŸ›¡ï¸',
    title: 'Bank-Level Security',
    description: 'Zero database vulnerabilities, bulletproof protection',
    highlight: '99.9%'
  },
  {
    icon: 'ðŸ’°',
    title: 'Cost Efficient',
    description: '60% lower maintenance costs than WordPress',
    highlight: '-60%'
  },
  {
    icon: 'ðŸ¤',
    title: 'Partnership Approach',
    description: 'Long-term growth partners, not just vendors',
    highlight: 'Partners'
  }
];

const displaySignals = signals.length > 0 ? signals : defaultSignals;

const layoutClasses = {
  grid: 'grid md:grid-cols-2 lg:grid-cols-3 gap-6',
  inline: 'flex flex-wrap justify-center gap-4',
  badges: 'flex flex-wrap justify-center gap-2'
};

const sizeClasses = {
  small: 'py-8',
  normal: 'py-12', 
  large: 'py-16'
};

const bgClasses = {
  default: '',
  card: 'bg-card-light dark:bg-card-dark rounded-xl shadow-lg px-8'
};
---

<section class={`trust-signals-section ${sizeClasses[size]} px-4 ${bgClasses[background]}`}>
  <div class="max-w-6xl mx-auto">
    {title && (
      <div class="text-center mb-8">
        <h2 class="font-heading font-bold text-2xl md:text-3xl mb-2">{title}</h2>
      </div>
    )}
    
    {layout === 'grid' && (
      <div class={layoutClasses.grid}>
        {displaySignals.map((signal) => (
          <div class="trust-signal-card text-center p-6 hover:bg-card-light dark:hover:bg-card-dark rounded-lg transition-all group">
            <div class="signal-icon text-3xl mb-4 group-hover:scale-110 transition-transform">
              {signal.icon}
            </div>
            <h3 class="text-lg font-semibold mb-2">
              {signal.title}
              {signal.highlight && (
                <span class="text-primary ml-2 text-xl">({signal.highlight})</span>
              )}
            </h3>
            <p class="text-sm opacity-80">{signal.description}</p>
          </div>
        ))}
      </div>
    )}

    {layout === 'inline' && (
      <div class={layoutClasses.inline}>
        {displaySignals.map((signal) => (
          <div class="trust-signal-inline flex items-center gap-3 bg-card-light dark:bg-card-dark px-4 py-3 rounded-lg">
            <span class="text-xl">{signal.icon}</span>
            <div class="text-left">
              <div class="font-semibold text-sm">{signal.title}</div>
              {signal.highlight && (
                <div class="text-primary font-bold">{signal.highlight}</div>
              )}
            </div>
          </div>
        ))}
      </div>
    )}

    {layout === 'badges' && (
      <div class={layoutClasses.badges}>
        {displaySignals.map((signal) => (
          <div class="trust-badge flex items-center gap-2 bg-primary/10 text-primary px-3 py-2 rounded-full text-sm font-semibold">
            <span>{signal.icon}</span>
            <span>{signal.title}</span>
            {signal.highlight && (
              <span class="bg-primary text-black px-2 py-0.5 rounded text-xs">
                {signal.highlight}
              </span>
            )}
          </div>
        ))}
      </div>
    )}
  </div>
</section>

<style>
  .trust-signal-card:hover .signal-icon {
    filter: drop-shadow(0 0 8px var(--color-primary));
  }
</style>
