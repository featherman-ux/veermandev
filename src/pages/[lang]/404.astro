---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

// This function tells Astro to pre-build a 404 page for each supported language.
export function getStaticPaths() {
  return Object.keys(languages).map((lang) => ({ params: { lang } }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<BaseLayout 
  title={t('404.title')} 
  description="The page you were looking for could not be found."
>
  <section class="flex items-center justify-center min-h-[60vh] text-center px-4">
    <div class="max-w-md">
      <h1 class="text-8xl md:text-9xl font-bold text-primary drop-shadow-lg">404</h1>
      
      <h2 class="mt-4 text-3xl font-heading font-bold sm:text-4xl">
        {t('404.heading')}
      </h2>
      <p class="mt-4 text-lg text-foreground/80">
        {t('404.message')}
      </p>

      <div class="mt-8">
        <a 
          href={`/${lang}/`} 
          class="btn-primary transition-transform hover:scale-105"
        >
          {t('404.back_home')}
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
